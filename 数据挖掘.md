### 课程介绍

要求：基础数据库，基础语言Java 或 Python，基础算法

课程提纲

- 基础部分
  - 数据探索，数据准备
  - 分类问题
  - 聚类问题
  - 关联规则
  - 离群检测
- 额外的课题

基础部分每个章节介绍后，会有练习

额外的项目：10%的加分

- 选择一个数据集
- 进行数据分析和数据挖掘
- 写一个课程报告（英文）

课程项目

- 团队工作：3-4人
- 报名（10月1日之前提交）
- 项目汇报（11月15日）

### 介绍

如何从数据中获得我们想要的信息？

- 18世纪：贝叶斯算法
- 19世纪：回归分析
- 数据挖掘一词出现在1990年左右的数据库社区中
- 现在数据挖掘和知识发现经常交换使用

数据挖掘的原因：

- 数据很多，尽管很有价值，但是价值密度很低
- 科学界
  - 数据收集速度很快，成本很低
  - 传统的方法对于原生的数据已经失效了
  - 数据挖掘方法可以帮助科学研究
- 工业届
  - 工业届有很大量的用户，数据很多
  - 竞争压力很大
- 数据挖掘将大量的数据转化成我们所需要的信息

数据挖掘的定义：从数据中非平凡得提取有用的，先前未知的，隐含的信息。

> 1. 有用的：有价值的
> 2. 隐含的：隐含在数据中的
> 3. 先前未知的：不能是已经知道的结论
> 4. 非平凡地提取：提取过程要有意义

数据挖掘的步骤：

数据库/普通的文件-->数据仓库-->抽取和转化数据-->数据挖掘-->分析与展示-->知识

可以被用于数据挖掘的数据类型

- 数据库数据（结构化，关系化，价值密度高，用sql语句来进行数据挖掘，可以进一步获取数据模式）
- 数据仓库（转化，整理过后的数据库数据）
- 事务数据（事务的记录）
- 时空数据（地图数据，气温数据）
- 词频数据
- 图数据（谷歌搜索排名模型-超链接图，社交网络）
- 超文本（文本，图片，音频，视频）
- 时序相关数据（历史数据，股票交易数据）
- 数据流（传感器数据，视频监控）

可以挖掘的模式类型

- 类别描述，特征提取
  - 数据特征
  - 数据区分
- 频繁模式，相关度挖掘
  - 在事务数据中经常一起出现的事物，通常相关度较高。
  - 关联度挖掘可以发现数据之间很多有意思的关联
- 预测分析中的分类与回归问题
  - 分类问题：通过训练数据得出未知数据的标签（离散输出值）
  - 回归问题：通过训练数据得到未知数据的连续输出值
- 聚类分析
  - 将一群点分开成不同的类（非监督学习）
- 离群问题
  - 找到远离聚类的点，或者说特异点

数据挖掘结果的意义

- 数据挖掘的风险在于，可能会发现毫无意义的结果
- 如果你想要发现一些有趣的模式，但是没有足够的数据，那么你很有可能会发现一堆垃圾
- 并非所有有趣额结论都可以数据挖掘获得

需要用到的技术

- 统计学，人工智能
- 机器学习，模式识别
- 数据库系统

数据挖掘的应用

- 网络挖掘：网站排名
- 决策支持
- 市场销售：用户习惯，销量预测

数据挖掘中主要的问题
- 挖掘方法
- 用户交互
- 效率和可扩展性
- 数据库类型的多样性
- 数据挖掘和社会

数据挖掘工具

- weka（java）
- scikit-learn（python）

### 数据探索

#### 数据对象与属性类别

- 数据集是数据对象的集合，数据对象也可以被称为样本，实例，数据点
- 属性是数据对象的某个特征，属性也可以被称为特征，维度，变量
  - 名词性特征（姓名）
  - 0-1特征（性别）
  - 类别特征（民族）
  - 数字特征（年龄）
  - 离散特征与连续特征

#### 数据的基本统计性描述

- 数据的中心倾向
  - 算数平均数（数字特征）
  - 中位数（数字特征）
    - 用频率估计：$median = L_1+(\frac{N/2-(\sum freq)_l}{freq_{median}})width$
  - 众数（数字特征和名词特征）
- 数据的离散程度
  - 极差（数字特征）
  - 分位点：用于找到最高的一部分和最低的一部分（数字特征）
  - 标准差（数字特征）

#### 数据可视化

- 植物照片识别 鸢尾属植物数据集
  - 三个类别
  - 四个特征：花萼长度，花萼宽度，花瓣长度，花瓣宽度
  - 150个样本
- 矩形图
  - 通常展示了样本单个属性的分布情况
  - 将数据集变成一个个柱子，柱子的高度表示样本的个数某个属性满足某个要求的样本数量
- 盒子图（箱线图）
  - 可以表示样本某个属性的的分布情况和离散情况
  - 箱子高（中线高）表示平均值大，箱子长（四分位和四分之三位之间距离大）说明数据离散程度高
- 分位点图
  - 每个点的横坐标是0-1均匀分布的数字，表示样本在整个数据集中间的位置，纵坐标是某属性比该样本该属性小的样本的数量比
  - 曲线先陡峭后平缓说明数据集整体向大数据击中，先平缓后陡峭说明数据集整体向小数集中
- 散点图
  - 数据集整体的分布情况
- 等高图，平行线图，星星图，脸谱图

#### 数据的相似度

如果一个对象有$p$个属性，即$x^{(i)} = (x_{1}^{(i)},x_{2}^{(i)},\dots,x_{p}^{(i)})$

那么一个有$n$个样本的数据集的相似度矩阵可以表示为一个$n*p$的矩阵$M$，其中$M_{i,j} = d(i,j),i< j$，$d(i,j)$表示第i个样本与第j个样本的距离。其余位置的距离是0

- 名词性特征的距离

名词性特征的距离可以表示$d(i,j) = \frac{p-m}{p}$，其中$p$是所有（名词性）属性的数量，$m=\sum_\limits{k}I(x_{k}^{(i)}=x_{k}^{(j)}),x_k$是名次性属性

- 0-1特征的距离

如果设样本i和样本j取值都为1的（0-1）属性数目是q。样本i取1且样本j取0的数目是r。样本i取0且样本j取1的属性数目是s。样本i和j都取0的属性数目是t。那么$d(i,j) =\frac{r+s}{q+r+s}$。
$$
q=\sum_\limits{k}I(x_{k}^{(i)}=1 \ and \ x_{k}^{(j)}=1) \\
r=\sum_\limits{k}I(x_{k}^{(i)}=1 \ and \ x_{k}^{(j)}=0) \\
r=\sum_\limits{k}I(x_{k}^{(i)}=0 \ and \ x_{k}^{(j)}=1) \\
t=\sum_\limits{k}I(x_{k}^{(i)}=0 \ and \ x_{k}^{(j)}=0) \\
d(i,j) = \frac{r+s}{q+r+s}
$$

- 数字特征的距离

设样本$x^{(i)} = (x_{1}^{(i)},x_{2}^{(i)},\dots,x_{p}^{(i)})$,$x^{(j)} = (x_{1}^{j)},x_{2}^{(j)},\dots,x_{p}^{(j)})$

定义样本i与样本j之间的距离为向量$x^{(i)}-x^{(j)}$的范数，其中$L_1$范数称为曼哈顿距离，$L_2$范数被称为欧氏距离，$L_\infty$范数被称为闵可夫斯基距离。

- 序数词特征的距离

将样本i和样本j的所有序数词特征排列为集合$f = \{1,2,3,4,\dots,M_f\}$中的数字，然后用数字特征的距离进行运算

- 混合特征的距离

设样本$x^{(i)} = (x_{1}^{(i)},x_{2}^{(i)},\dots,x_{p}^{(i)})$,$x^{(j)} = (x_{1}^{j)},x_{2}^{(j)},\dots,x_{p}^{(j)})$中有混合的特征，此时距离公式是

$$
d(i,j)=\frac{\sum_\limits{f=1}^p\delta_{ij}^{(f)}d_{ij}^{(f)}}{\sum_\limits{f=1}^p\delta_{ij}^{(f)}}
$$
其中$\delta_{ij}^{(f)}$是系数。如果$x^{(i)}$或者$x^{(j)}$没有第$f$个特征或者这个特征是0-1特征且两个样本都是0，那么这个系数是0，否则是1

#### 文档展示和文档距离度量

### 数据处理

#### 数据处理概览

为什么要处理数据：精确性，完整性，稳定性，时效性，可信度，可解释性。

- 数据整理：去除脏数据，寻找缺失的数据
- 数据整合：去除数据的重复性和矛盾之处
- 数据削减：减少数据维度和数量
- 数据转化：正则化，归一化等，离散化

#### 数据整理

- 处理缺少的数据
  - 忽略缺少数据的那个数据项
  - 人工填入缺少的数据
  - 使用全局变量填入缺少的数据（0，负无穷等）
  - 使用统计学变量填入缺少的数据（平均值，中位数等）
  - 使用同类的样本的统计学变量填入缺少的数据
  - 使用最有可能的值填入缺少的数据：使用历史数据回归计算
- 处理噪声数据：如何去除噪声数据
  - 通过均值，中位数和边界来去除噪声数据
  - 通过回归方法来去除噪声数据
  - 异常分析：聚类办法
  - 也有一些顺滑方法来进行噪声处理

> 顺滑方法处理数据4 8 15 21 21 24  25 28 34
>
> 1. 按照大小分桶：4 8 15    21 21 24    25 28 34
> 2. 按照平均数来顺滑： 9 9 9      22 22 22      29 29 29
> 3. 按照边界值来顺滑：4 4 15     21 21 24      25 28 34

#### 数据整合

数据整合的问题举例：如何知道一张数据表中的顾客id和另一张数据表中的顾客id指向的是同一个顾客？

- 冗余性和相关性分析：通过相关性分析来去除冗余：两个属性的相关度很高时，认为这两个之间是有冗余的，可以去掉一个。
  - 文本类型数据：构造卡方检验，假设是“属性A和属性B是独立的”
  - 数字类型数据：相关系数和协方差
- 数据整合中的其他技术
  - 元组复制
  - 数据矛盾性探测和解决

#### 数据削减

- 减少数据维度
- 减少数据量

#### 数据转化和数据分布