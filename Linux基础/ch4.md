# Linux字符界面操作

## 1 字符界面简介

### 1.1 进入字符界面 

#### 1.1.1 直接进入字符界面

在图形界面下输入命令

```cmd
ln -sf
/lib/systemd/system/runlevel3.target
/etc/systemd/system/default.target
```

可以把系统的默认打开方式修改为字符界面，注意这条命令仅在安装了图形界面和字符界面时才起作用

root用户登陆之后，提示符是“#”，其他所有普通用户的提示符都是“$”

#### 1.1.2 通过终端进入字符界面

Fedora：“活动”→“应用程序”→“系统工具”→“终端”

Ubuntu：Ctrl+Alt+T

#### 1.1.3 使用虚拟控制台进入字符界面

> 我还是不要尝试了

Ctrl+Alt+（F1～F6）

### 1.2 关闭和重启系统

在Linux系统下常用的关闭和重启系统的命令有“shutdown”,“halt”,“reboot”和“init”,但每个命令的内部工作过程是不
同的。

- shutdown：安全地关闭或重启系统，不能直接切掉电源！`shutdown -h now shutdown -r now`
- halt：调用`shutdown-h`关闭系统
- reboot：调用`shutdown-r`重启系统
- init：所有进程的祖先，进程号始终为1，发送信号给init会终止所有用户进程，shutdown命令就是利用了这种机制。init命令定义了7个运行级别，其中`init 0`是关闭系统，`init 6`是重启系统

### 1.3 系统的运行级别

Linux运行级别有如下7种。

- 0:停止运行,所有进程中止,关闭系统。
- 1:单用户模式,用于维护系统,只有少数进程运行。
- 2:多用户模式,除了NFS服务没有启动外,其他和运行级别3一样。
- 3:完整的多用户模式,进入Linux系统的字符界面。
- 4:没有使用(可由用户定义)。
- 5:完整的多用户模式(带有基于X Window的图形界面)。
- 6:重新引导计算机。

这些运行级别由列在/etc/rc.d/rc<x>.d目录中的服务来定义(不同的Linux系统可能有所区别，例如Ubuntu是/etc/rc<x>.d)

使用`runlevel`可以显示当前的运行级别

## 2 在Linux下获得帮助

### 2.1 使用man手册页

`man ls`可以显示所有的man帮助手册

### 2.2 使用help命令

某个命令后面添加--help可以查看其帮助

### 2.3 whereis命令

使用whereis命令可以查找命令所在的位置可以查找该命令在哪个目录下

## 3 shell基础

在Linux系统中，shell是最常使用的程序，其主要作用是侦听用户指令、启动指令所指定的进程并将结果返回给用户。

### 3.1 shell起步

shell是一种解释型语言，一般的格式是\[Shell命令\]\[可选项\]\[参数]

Linux系统由三个主要部分组成:内核，shell，应用程序

### 3.2 shell类型和功能

目前流行的shell类型包括：sh,csh,ksh,tcsh,**bash**，其中bash是默认使用

### 3.3 开始使用shell

出现提示符号之后，便可以输入操作命令，命令可以分为两大类：bash内置命令，应用程序

#### 3.3.1 通配符

- ？表示任何单一字符
- *表示任何字符
- []表示其中的符号都符合
- [!]表示不在其中的符号都符合

#### 3.3.2 特殊字符和引号

- ~表示主目录

……

#### 3.3.3 常用控制组合键

- Ctrl+C：终止目前命令
- Ctrl+\：结束目前命令
- Ctrl+D：输入结束

……

## 4 shell实用功能

### 4.1 命令行自动补全

Tab键可以补全部分代码

### 4.2 命令历史记录

向上键可以查看历史记录

### 4.3 命令的排列，替换和别名

- 排列：命令1；命令2
- 替换：命令1$(命令2)
- 别名：alias[别名] = [需要定义别名的命令]

### 4.4 文件名匹配和输出重定向

#### 4.4.1 文件名匹配

文件名匹配使得用户不必一一写出文件名称就可以指定多个文件。

#### 4.4.2 管道

把某个命令的输出当成是另一个命令的输入

```cmd
ls /etc|more
```

#### 4.4.3 输出重定向

把命令的输出结果保存到文件中

## 5 vi编辑器基本使用