# 2. 在HTML中使用JavaScript

## 2.1 script元素 

> HTML支持直接嵌入script元素

| 属性       | 作用                                  |
| -------- | ----------------------------------- |
| async    | 可选，表示应该立即下载该脚本，仅对外部脚本文件有效           |
| charset  | 可选，字符集，很少使用                         |
| defer    | 可选，表示脚本可以延迟到文档被完全解析之后再执行，仅对外部脚本文件有效 |
| src      | 可选，表示外部脚本文件的位置                      |
| language | 已经废弃，表示脚本语言的语言类型                    |
| type     | 可选，可以看做language的替代属性，默认是JavaScript  |

HTML有两种方式嵌入JavaScript代码，一种是直接嵌入，另一种是包含外部代码

- 直接嵌入的代码将会被从上到下解释，遇到函数时，解释器会拿到一个函数的定义并将其保存在自己的环境中。也就是说，**解释器对script内部的所有代码求值完毕之前，页面中其他内容不会被浏览器加载显示**。


- 注意直接嵌入时不要在代码中出现“\</script\>”否则浏览器会认为到达script标签末尾，可以用转义字符。
- 如果定义了src属性即使用包含外部代码形式，那么script标签之间的内容将不会执行。
- **注意！引入外部域的脚本文件时要小心，保证那个域是可靠的谨防恶意程序员攻击**。
- 如果没有`async`和`defer`标签，那么浏览器会按照script标签在文档中的顺序进行解析。

### 2.1.1 标签的位置

依照惯例，script标签应该放在head元素中。但是这会导致要等到所有JavaScript脚本加载完成之后才能看到页面，之前是一片空白，这是不好的。因此，一般习惯把JavaScript引用放在body的结尾处，显得页面加载速度加快。

### 2.1.2 延迟脚本

使用属性`defer = "defer"`等于告诉浏览器，这段脚本代码应该立即下载，但是等到页面加载完成之后才执行。这一点和把脚本文件放在底部的效果是一样的，并且有些浏览器并不支持。

### 2.1.3 异步脚本

使用属性`async`可以告诉浏览器立即下载脚本但是并不执行，也不一定会按照顺序执行。

## 2.2 嵌入代码和外部文件

支持使用完外部文件引入JavaScript代码，理由如下

- 可维护性
- 可缓存：两个页面使用一个js文件时，浏览器会进行缓存
- 适应未来

## 2.3 文档模式

## 2.4 noscript元素

当下列情况其一发生时，浏览器将会加载noscript之间的内容

- 浏览器不支持脚本
- 浏览器支持脚本，但是脚本被禁用



