#### 课程介绍

这门课是任桐炜老师和李传艺老师一起上的这门课

这门课是一门D类课，如果你觉得它不好玩，就可以直接走了，课件会在moudle上公布。

今年的课程是第一学期，课程内容依然是课堂讲授和课程实践

两个班上课的问题是课时数会不一样，所以今年的变化在于课程实践很多

满足下面条件的学生不要选这门课：

- 已经对云计算认知有较多理解，希望加深认识
  - 这是一门导学课程，讲授基本概念和基本操作
- 已经有发展方向，并且与云计算无关
- 想简单听课拿分走人
  - 有很多课程时间，还有期末考试（闭卷）

研究生学习的目标是创造力是研究生阶段的关键

教学目标包括

- 掌握云计算的基本概念
- 熟悉云计算挂件技术的原理
- 完成基于Spark平台的云计算实践
- 培养阅读，写作和报告的能力

参考资料

- 云计算  刘鹏（广而浅）
- 大数据：互联网大规模数据挖掘与分布式处理  王斌（深）
- Spark 最佳实践 陈欢（实践）
- 深入理解大数据  黄宜华（源码好复现）

课程计划

- 上10次课，课程讲授6次，实践讨论4次
- 期末考试：12月1日（暂定）
- 平时实践60分，期末考试40分
- 平时实践是个人作业：并且所有实践后才能得分

#### 绪论

耳熟能详的概念：物联网，大数据，云计算，人工智能等

计算机系统与人类生活的演进是很相似的

- 人类刚开始是个体，每个人都需要有技能--->人类开始聚集，逐渐分工（狩猎，采集，手工），形成部落--->部落聚集称为城邦，并且有一些共享的基础设施（水井，城墙），并且能够做出各种交换，社会分工变得精细--->社会高度发达和分工，社会资源调度动态化
- 计算机刚开始也是所有数据和应用都存储在本机上，只能给自己用—>计算机也开始分工，有的专门做存储，有的专门做计算，有的专门做服务，形成局域网--->局域网聚集形成互联网，共享的网路，共享的基础资源不属于任何个体计算机，形成大量的网络服务和信息共享—>计算机系统应该怎么做？

计算机系统需要更加先进的基础设施，更加动态的资源规划，形成云计算。

- 输入：大数据

- 算法：人工智能

- 硬件平台：云计算  类脑计算

- 输出：互联网+  物联网

什么是云：支撑各种各样网络应用的硬件平台

- 谷歌创业初期用二手的pc组装服务器：小鱼群吃大鱼
- 亚马逊之前出现的问题是，节假日高峰期需要好多服务器，但是平时在落灰，所以弹性出租资源：将计算资源变成易用的水和电，挥之即来，挥之即去

云计算是一种**商业**计算模型，它将计算任务分布在**大量**计算机构的资源池上，使**各种应用系统**能够**根据需要**获取计算力，存储空间和信息服务。

> 这是一个从商业界产生的技术，并不是实验室出来的。工业届产生了这个技术，但是有些不完善的地方，然后才有学校或者科研界来进行完善。
>
> 兵无常势，水无常形

云计算的服务类型

- （通用）IaaS：硬件资源服务化，裸机，需要解决的主要问题是怎么把数个计算机在逻辑上合并成一个整体
- PaaS：平台资源服务化，有着一些基本的功能，例如邮件功能，操作系统
- （专用）SaaS：应用资源服务化，十分专用，例如邮件服务器，上面只有邮件应用

> 误区：PaaS并不一定要调用IaaS，这个并不是一定要一层层调用的，PaaS可以直接调用计算机资源，也可以把硬件资源看成一个整体，调用IaaS，SaaS也一样

用户对象

- 公有云：大规模多用户设计
- 混合云：混合使用公有云和私有云的服务（鸡尾酒一样，一层私有云，另一层公有云）
- 私有云：在数据中心的专用机器上运行

云计算的优势

- 可扩展性和伸缩性：连接多台计算机以达到很高的计算性能，快速性能伸缩以节省成本
  - 内存万GB以上
  - 硬盘没有上限
  - 快速完成配置
  - 短时间内的费用很便宜
- 易用性
  - 虚拟化：模拟很多用户的不同功能
  - 高可靠：多副本容错
  - 管理简单：不需要专门的人员来维护
  - 安全：专业的团队和严格的权限管理
- 经济性
  - 更低的硬件成本：硬件成本，电价，成本费用
  - 更高的利用率

为什么需要自己的云平台

- 数据安全：政府，企业高度重视
- 经济效益：降低企业成本，提供创业机会

云计算难在哪里

- 多机器协作
- 容灾：机器坏了怎么办
- 异构：机器性能不一致
- 动态环境的不稳定性

#### 商业云平台

云计算起源于商业需求，并在商业中得到广泛应用

商业云平台的技术大部分都不公开

代表性的商业平台：谷歌，亚马逊，微软，阿里巴巴

谷歌云平台

> 浏览器=操作系统

- 海量用户，海量数据，需要较强的可伸缩性

- 原本设想：应用，数据，计算能力和存储空间都向互联网迁移

- 谷歌云计算平台的技术架构

  - 文件存储：GFS
    - 将文件划分为固定大小的块（chunk）存储
    - 通过冗余来提高可靠性
    - 通过“单个”master来协调数据访问和元数据存储
    - 无缓存
  - 并行数据处理：Map-Reduce
    - 数据的映射与规约
  - 结构化数据存储：BigTable
    - 切割表以解决稀疏表的问题：表--->子表--->SSTable文件
    - 对表的修改完全以增量形式来改，即保存不同时期的数据
  - 分布式锁：Chubby
    - 选举主服务器，解决主控节点负载量太大的问题：当主服务器出现问题时，一方面给出宽限期，一方面不停询问主服务器
    - 与服务器通过远程过程调用连接，每个应用有一个Chubby程序库

亚马逊云平台

>提供多种服务

- 简单存储服务，通过接口将任何类型的数据临时或者永久的存在服务器（基于Dynamo架构）s3
  - 存储架构：桶（相当于文件夹，服务器名全局唯一），对象（相当于文件，每个桶唯一，不能重命名对象，不能部分修改对象）
  - 冗余架构：最终一致性模型，牺牲一致性，保证可用性和可靠性，在全部更新之前，会返回之前的结果。例如你新写了一个对象之后，可能读的到（访问了刚刚的那个服务器），也有可能读不到（访问了其他服务器）
- 计算服务ec2
  - 会附带一个Amazon Mechine Image（AMI）：类似于操作系统，分为共有，私有，付费，共享这几种
  - 实例：类似于主机，提供计算能力
  - EBS，弹性块存储：可以一直保存直到删除
  - 通信地址
    - 共有ip：外界访问
    - 私有ip：内部实例访问